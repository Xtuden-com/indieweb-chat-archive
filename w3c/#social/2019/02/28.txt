2019-02-28 00:03:37.294200 {"type":"join","timestamp":1551312217.2942,"network":"irc","server":"w3c","channel":{"uid":"#social","name":"#social"},"author":{"uid":"tantek","nickname":"tantek","username":"~tantek","name":null,"photo":null,"url":null,"tz":null,"host":"public.cloak"},"content":null,"modes":[]}
2019-02-28 06:25:06.514500 {"type":"join","timestamp":1551335106.5145,"network":"irc","server":"w3c","channel":{"uid":"#social","name":"#social"},"author":{"uid":"xmpp-social","nickname":"xmpp-social","username":"~xmpp-social","name":null,"photo":null,"url":null,"tz":null,"host":"public.cloak"},"content":null,"modes":[]}
2019-02-28 08:03:59.538400 {"type":"join","timestamp":1551341039.5384,"network":"irc","server":"w3c","channel":{"uid":"#social","name":"#social"},"author":{"uid":"dansup","nickname":"dansup","username":"~dansup","name":"Dan Sup","photo":null,"url":null,"tz":null,"host":"public.cloak"},"content":null,"modes":[]}
2019-02-28 13:56:59.209400 {"type":"join","timestamp":1551362219.2094,"network":"irc","server":"w3c","channel":{"uid":"#social","name":"#social"},"author":{"uid":"vitalyster","nickname":"vitalyster","username":"~vitalyster","name":"vitalyster","photo":null,"url":null,"tz":null,"host":"public.cloak"},"content":null,"modes":[]}
2019-02-28 14:10:04.984400 {"type":"message","timestamp":1551363004.9844,"network":"irc","server":"w3c","channel":{"uid":"#social","name":"#social"},"author":{"uid":"cjslep[m]","nickname":"cjslep[m]","username":"~cjslepfene","name":null,"photo":null,"url":null,"tz":null,"host":"public.cloak"},"content":"fr33domlover I feel like we are talking past each other on socialhub","modes":[]}
2019-02-28 14:21:13.466700 {"type":"message","timestamp":1551363673.4667,"network":"irc","server":"w3c","channel":{"uid":"#social","name":"#social"},"author":{"uid":"cjslep[m]","nickname":"cjslep[m]","username":"~cjslepfene","name":null,"photo":null,"url":null,"tz":null,"host":"public.cloak"},"content":"\/me sent a long message: cjslep[m]_2019-02-28_14:21:13.txt <https:\/\/matrix.cybre.space\/_matrix\/media\/v1\/download\/cybre.space\/uDmNLEEGabNwEAgqTClrkUAa>","modes":[]}
2019-02-28 14:29:36.226900 {"type":"message","timestamp":1551364176.2269,"network":"irc","server":"w3c","channel":{"uid":"#social","name":"#social"},"author":{"uid":"fr33domlover","nickname":"fr33domlover","username":"~fr33domlover","name":"fr33domlover","photo":null,"url":null,"tz":null,"host":"public.cloak"},"content":"Hey cjslep[m] ! Yeah maybe it's because I never described my use case there in detail","modes":[]}
2019-02-28 14:35:24.392400 {"type":"message","timestamp":1551364524.3924,"network":"irc","server":"w3c","channel":{"uid":"#social","name":"#social"},"author":{"uid":"fr33domlover","nickname":"fr33domlover","username":"~fr33domlover","name":"fr33domlover","photo":null,"url":null,"tz":null,"host":"public.cloak"},"content":"cjslep[m], what I'm doing is defining (and implementing) a way to use object capabilities with activities, so that some activities are sent along with authorization. And I want to use object capabilities, not necessarily OCAP-LD, just generally OCAP. So (1) in OCAP-LD you sign a JSON document called \"capability delegation\". In my case, if you produce such a delegation, you're the only one who will be","modes":[]}
2019-02-28 14:35:26.574600 {"type":"message","timestamp":1551364526.5746,"network":"irc","server":"w3c","channel":{"uid":"#social","name":"#social"},"author":{"uid":"fr33domlover","nickname":"fr33domlover","username":"~fr33domlover","name":"fr33domlover","photo":null,"url":null,"tz":null,"host":"public.cloak"},"content":"looking at it, and you already keep it in your DB, so in practice you don't need to create and sign that JSON document. However you do need to pass *some* token to the issuee, and I *do* want this token signed. At first I didn't think of that, but following your comments, I realized that token can happily be signed or encrypted","modes":[]}
2019-02-28 14:46:14.764900 {"type":"message","timestamp":1551365174.7649,"network":"irc","server":"w3c","channel":{"uid":"#social","name":"#social"},"author":{"uid":"fr33domlover","nickname":"fr33domlover","username":"~fr33domlover","name":"fr33domlover","photo":null,"url":null,"tz":null,"host":"public.cloak"},"content":"cjslep[m], (2) The issue about rotation isn't specific to my usage, it's a side thing, but if you like I can still explain. Basically the reason I mentioned rotation is that I needed a way to be sure that even if keys get rotated, it doesn't get in the way of establishing trust. Anyway, I'll write a description of that soon and then if I missed some easier solution, you or someone else will show me :)","modes":[]}
2019-02-28 14:47:47.741200 {"type":"message","timestamp":1551365267.7412,"network":"irc","server":"w3c","channel":{"uid":"#social","name":"#social"},"author":{"uid":"fr33domlover","nickname":"fr33domlover","username":"~fr33domlover","name":"fr33domlover","photo":null,"url":null,"tz":null,"host":"public.cloak"},"content":"cjslep[m], (2b) I mean if you have 1 key and you replace it, the old one isn't available. I agree you can make a new one and leave the old one availabl, I just mean right now Mastodon etc. uses a single key. Anyway, Spritely stuff is just future\/theory right now, I'm assuming plain HTTPS fediverse as my starting point","modes":[]}
2019-02-28 14:57:02.135000 {"type":"message","timestamp":1551365822.135,"network":"irc","server":"w3c","channel":{"uid":"#social","name":"#social"},"author":{"uid":"fr33domlover","nickname":"fr33domlover","username":"~fr33domlover","name":"fr33domlover","photo":null,"url":null,"tz":null,"host":"public.cloak"},"content":"cjslep[m], (3) Suppose you give user john@doe.com edit access to your file. Suppose for a moment, the way you identify joe is by his public key, using HTTP signatures. Now imagine the server at doe.com shuts down, and the domain is expired. Now I, an attacker, rent doe.com, create a user named joe and try to make malicious commits to your file. How does your server know I'm not the original john@doe.com?","modes":[]}
2019-02-28 14:57:04.576200 {"type":"message","timestamp":1551365824.5762,"network":"irc","server":"w3c","channel":{"uid":"#social","name":"#social"},"author":{"uid":"fr33domlover","nickname":"fr33domlover","username":"~fr33domlover","name":"fr33domlover","photo":null,"url":null,"tz":null,"host":"public.cloak"},"content":"One way, it will notice my signature is invalid. This works but it relies on me keeping the same public key, unable to rotate it. And if I do rotate it, using blind key rotation, your server will see a new key, accept it, and voila I can edit your file. When using a secret access token that joe must possess, this prevents my attack, because I don't have the token joe had, and I can't make malicious edits","modes":[]}
2019-02-28 14:57:06.575400 {"type":"message","timestamp":1551365826.5754,"network":"irc","server":"w3c","channel":{"uid":"#social","name":"#social"},"author":{"uid":"fr33domlover","nickname":"fr33domlover","username":"~fr33domlover","name":"fr33domlover","photo":null,"url":null,"tz":null,"host":"public.cloak"},"content":"while pretending to be him. And if this token *isn't* secret, then we need some *other* way to trust joe@doe.com, such as servers having per-server secret tokens, or using permanent non-rotating signing keys. This too, sorry if my wording is confusing, I'll write in more detail soon I hope","modes":[]}
2019-02-28 14:59:11.924200 {"type":"message","timestamp":1551365951.9242,"network":"irc","server":"w3c","channel":{"uid":"#social","name":"#social"},"author":{"uid":"fr33domlover","nickname":"fr33domlover","username":"~fr33domlover","name":"fr33domlover","photo":null,"url":null,"tz":null,"host":"public.cloak"},"content":"In other words, when actor keys are allowed to do blind rotation, the only identification we're left with is the domain name, which has that scenario where your domain name expires and I rent it and pretend to be you etc.","modes":[]}
2019-02-28 14:59:50.633200 {"type":"message","timestamp":1551365990.6332,"network":"irc","server":"w3c","channel":{"uid":"#social","name":"#social"},"author":{"uid":"fr33domlover","nickname":"fr33domlover","username":"~fr33domlover","name":"fr33domlover","photo":null,"url":null,"tz":null,"host":"public.cloak"},"content":"So there needs to be some extra bit to prevent that, by somehow identifying that scenario","modes":[]}
2019-02-28 15:04:52.013400 {"type":"message","timestamp":1551366292.0134,"network":"irc","server":"w3c","channel":{"uid":"#social","name":"#social"},"author":{"uid":"cjslep[m]","nickname":"cjslep[m]","username":"~cjslepfene","name":null,"photo":null,"url":null,"tz":null,"host":"public.cloak"},"content":"Gotcha, thanks for taking the time to explain all this.","modes":[]}
2019-02-28 15:07:16.059000 {"type":"message","timestamp":1551366436.059,"network":"irc","server":"w3c","channel":{"uid":"#social","name":"#social"},"author":{"uid":"fr33domlover","nickname":"fr33domlover","username":"~fr33domlover","name":"fr33domlover","photo":null,"url":null,"tz":null,"host":"public.cloak"},"content":"cjslep[m], did my explanation help? I was worried it would only add confusion ^_^","modes":[]}
2019-02-28 15:08:16.543200 {"type":"message","timestamp":1551366496.5432,"network":"irc","server":"w3c","channel":{"uid":"#social","name":"#social"},"author":{"uid":"fr33domlover","nickname":"fr33domlover","username":"~fr33domlover","name":"fr33domlover","photo":null,"url":null,"tz":null,"host":"public.cloak"},"content":"I suppose this domain reuse thing isn't a problem so far because nobody has done it on the fediverse","modes":[]}
2019-02-28 15:09:19.890200 {"type":"message","timestamp":1551366559.8902,"network":"irc","server":"w3c","channel":{"uid":"#social","name":"#social"},"author":{"uid":"fr33domlover","nickname":"fr33domlover","username":"~fr33domlover","name":"fr33domlover","photo":null,"url":null,"tz":null,"host":"public.cloak"},"content":"(It requires that an instance goes down, domain rented by different person, and all that happens secretly before anyone notices the events, and before people block that instance it has enough time to send garbage etc.)","modes":[]}
2019-02-28 15:09:37.530600 {"type":"message","timestamp":1551366577.5306,"network":"irc","server":"w3c","channel":{"uid":"#social","name":"#social"},"author":{"uid":"fr33domlover","nickname":"fr33domlover","username":"~fr33domlover","name":"fr33domlover","photo":null,"url":null,"tz":null,"host":"public.cloak"},"content":"(So it's an unlikely scenario, but I don't like the thought that it's possible)","modes":[]}
2019-02-28 15:11:17.387700 {"type":"message","timestamp":1551366677.3877,"network":"irc","server":"w3c","channel":{"uid":"#social","name":"#social"},"author":{"uid":"cjslep[m]","nickname":"cjslep[m]","username":"~cjslepfene","name":null,"photo":null,"url":null,"tz":null,"host":"public.cloak"},"content":"Yes it helps. I think I agree with you that using LDS with a \"blind\" rotation is a security vulnerability.","modes":[]}
2019-02-28 15:12:31.655100 {"type":"message","timestamp":1551366751.6551,"network":"irc","server":"w3c","channel":{"uid":"#social","name":"#social"},"author":{"uid":"cjslep[m]","nickname":"cjslep[m]","username":"~cjslepfene","name":null,"photo":null,"url":null,"tz":null,"host":"public.cloak"},"content":"The obvious and low effort answer being... Don't use blind rotation.","modes":[]}
