2019-01-14 01:17:14.565500 {"type":"join","timestamp":1547428634.5655,"network":"irc","server":"w3c","channel":{"uid":"#social","name":"#social"},"author":{"uid":"HankG","nickname":"HankG","username":"~hankgrabowski","name":null,"photo":null,"url":null,"tz":null,"host":"public.cloak"},"content":null,"modes":[]}
2019-01-14 06:25:08.295400 {"type":"join","timestamp":1547447108.2954,"network":"irc","server":"w3c","channel":{"uid":"#social","name":"#social"},"author":{"uid":"xmpp-social","nickname":"xmpp-social","username":"~xmpp-social","name":"xmpp-social","photo":null,"url":null,"tz":null,"host":"public.cloak"},"content":null,"modes":[]}
2019-01-14 11:49:28.616800 {"type":"message","timestamp":1547466568.6168,"network":"irc","server":"w3c","channel":{"uid":"#social","name":"#social"},"author":{"uid":"fr33domlover","nickname":"fr33domlover","username":"~fr33domlover","name":"fr33domlover","photo":null,"url":null,"tz":null,"host":"public.cloak"},"content":"In HTTP Signatures, it's possible to use the Date header to prevent replay, make the sig valid only for a short time frame. Is there a recommended time frame size? Mastodon was using 30 seconds, switched to 12 hours, and other projects seem not to check at all (or at least I couldn't find the check in their source code)","modes":[]}
2019-01-14 12:18:56.576500 {"type":"message","timestamp":1547468336.5765,"network":"irc","server":"w3c","channel":{"uid":"#social","name":"#social"},"author":{"uid":"jdormit","nickname":"jdormit","username":"~jdormit","name":null,"photo":null,"url":null,"tz":null,"host":"public.cloak"},"content":"fr33domlover: I don't think there's an officially recommended time frame","modes":[]}
2019-01-14 12:19:26.673100 {"type":"message","timestamp":1547468366.6731,"network":"irc","server":"w3c","channel":{"uid":"#social","name":"#social"},"author":{"uid":"jdormit","nickname":"jdormit","username":"~jdormit","name":null,"photo":null,"url":null,"tz":null,"host":"public.cloak"},"content":"30 seconds is pretty reasonable, assuming you don't expect any latency longer than that","modes":[]}
2019-01-14 12:19:35.597500 {"type":"join","timestamp":1547468375.5975,"network":"irc","server":"w3c","channel":{"uid":"#social","name":"#social"},"author":{"uid":"KjetilK","nickname":"KjetilK","username":"~kjetil","name":"Kjetil Kjernsmo","photo":null,"url":null,"tz":null,"host":"public.cloak"},"content":null,"modes":[]}
2019-01-14 12:19:47.375700 {"type":"message","timestamp":1547468387.3757,"network":"irc","server":"w3c","channel":{"uid":"#social","name":"#social"},"author":{"uid":"jdormit","nickname":"jdormit","username":"~jdormit","name":null,"photo":null,"url":null,"tz":null,"host":"public.cloak"},"content":"12 hours seems so long as to be functionally useless","modes":[]}
2019-01-14 12:19:55.412100 {"type":"message","timestamp":1547468395.4121,"network":"irc","server":"w3c","channel":{"uid":"#social","name":"#social"},"author":{"uid":"jdormit","nickname":"jdormit","username":"~jdormit","name":null,"photo":null,"url":null,"tz":null,"host":"public.cloak"},"content":"might as well not enforce a time frame at that point","modes":[]}
2019-01-14 12:20:41.690800 {"type":"join","timestamp":1547468441.6908,"network":"irc","server":"w3c","channel":{"uid":"#social","name":"#social"},"author":{"uid":"RzR","nickname":"RzR","username":"~philippe","name":null,"photo":null,"url":null,"tz":null,"host":"public.cloak"},"content":null,"modes":[]}
2019-01-14 12:20:44.295600 {"type":"message","timestamp":1547468444.2956,"network":"irc","server":"w3c","channel":{"uid":"#social","name":"#social"},"author":{"uid":"RzR","nickname":"RzR","username":"~philippe","name":null,"photo":null,"url":null,"tz":null,"host":"public.cloak"},"content":"hi are any of you going to fosdem this year?","modes":[]}
2019-01-14 12:21:09.163100 {"type":"message","timestamp":1547468469.1631,"network":"irc","server":"w3c","channel":{"uid":"#social","name":"#social"},"author":{"uid":"fr33domlover","nickname":"fr33domlover","username":"~fr33domlover","name":"fr33domlover","photo":null,"url":null,"tz":null,"host":"public.cloak"},"content":"jdormit, I'm guessing Mastodon switched to 12 hours because 30 seconds wasn't enough? Also, the commit explains why it switched although I admit I'm not sure I understand","modes":[]}
2019-01-14 12:21:56.012700 {"type":"message","timestamp":1547468516.0127,"network":"irc","server":"w3c","channel":{"uid":"#social","name":"#social"},"author":{"uid":"fr33domlover","nickname":"fr33domlover","username":"~fr33domlover","name":"fr33domlover","photo":null,"url":null,"tz":null,"host":"public.cloak"},"content":"jdormit, it suggests the time check prevents replaying old vulnerable signatures, which is supposedly unlikely to happen within 12 hours idk","modes":[]}
2019-01-14 12:23:26.565300 {"type":"message","timestamp":1547468606.5653,"network":"irc","server":"w3c","channel":{"uid":"#social","name":"#social"},"author":{"uid":"rialtate[m]","nickname":"rialtate[m]","username":"~rialtatema","name":"@rialtate:matrix.org","photo":null,"url":null,"tz":null,"host":"public.cloak"},"content":"Servers with bad clock sync will misbehave with 30 seconds. I think 5-10 minutes is much more reasonable.","modes":[]}
2019-01-14 12:25:26.587800 {"type":"message","timestamp":1547468726.5878,"network":"irc","server":"w3c","channel":{"uid":"#social","name":"#social"},"author":{"uid":"fr33domlover","nickname":"fr33domlover","username":"~fr33domlover","name":"fr33domlover","photo":null,"url":null,"tz":null,"host":"public.cloak"},"content":"rialtate[m], joyent's implementation recommends 300 seconds which is 5 minutes","modes":[]}
2019-01-14 12:25:55.114700 {"type":"message","timestamp":1547468755.1147,"network":"irc","server":"w3c","channel":{"uid":"#social","name":"#social"},"author":{"uid":"rialtate[m]","nickname":"rialtate[m]","username":"~rialtatema","name":"@rialtate:matrix.org","photo":null,"url":null,"tz":null,"host":"public.cloak"},"content":"Fwiw Date doesn't have to be accurate to prevent replay. It merely has to be different (and digest takes care of the body in this regard)","modes":[]}
2019-01-14 12:27:13.341500 {"type":"message","timestamp":1547468833.3415,"network":"irc","server":"w3c","channel":{"uid":"#social","name":"#social"},"author":{"uid":"fr33domlover","nickname":"fr33domlover","username":"~fr33domlover","name":"fr33domlover","photo":null,"url":null,"tz":null,"host":"public.cloak"},"content":"rialtate[m], yeah technically you can set Date to be a year from now and send the request a year from now. I guess what could protect it then it key rotation i.e. by then the key can be different so the sig won't pass","modes":[]}
2019-01-14 12:27:44.129600 {"type":"message","timestamp":1547468864.1296,"network":"irc","server":"w3c","channel":{"uid":"#social","name":"#social"},"author":{"uid":"fr33domlover","nickname":"fr33domlover","username":"~fr33domlover","name":"fr33domlover","photo":null,"url":null,"tz":null,"host":"public.cloak"},"content":"But either way, checking Date helps prevent the sig from passing more than once","modes":[]}
2019-01-14 12:28:58.143200 {"type":"message","timestamp":1547468938.1432,"network":"irc","server":"w3c","channel":{"uid":"#social","name":"#social"},"author":{"uid":"fr33domlover","nickname":"fr33domlover","username":"~fr33domlover","name":"fr33domlover","photo":null,"url":null,"tz":null,"host":"public.cloak"},"content":"I guess either way AP servers can check the actual AP activity against their DB and not store new activities with ID URLs they've already received","modes":[]}
2019-01-14 12:41:56.333900 {"type":"message","timestamp":1547469716.3339,"network":"irc","server":"w3c","channel":{"uid":"#social","name":"#social"},"author":{"uid":"jdormit","nickname":"jdormit","username":"~jdormit","name":null,"photo":null,"url":null,"tz":null,"host":"public.cloak"},"content":"yeah, they should be doing that anyway","modes":[]}
2019-01-14 12:42:23.745900 {"type":"message","timestamp":1547469743.7459,"network":"irc","server":"w3c","channel":{"uid":"#social","name":"#social"},"author":{"uid":"jdormit","nickname":"jdormit","username":"~jdormit","name":null,"photo":null,"url":null,"tz":null,"host":"public.cloak"},"content":"but you could potentially do a replay attack with e.g. Update activities","modes":[]}
2019-01-14 12:43:11.891800 {"type":"message","timestamp":1547469791.8918,"network":"irc","server":"w3c","channel":{"uid":"#social","name":"#social"},"author":{"uid":"jdormit","nickname":"jdormit","username":"~jdormit","name":null,"photo":null,"url":null,"tz":null,"host":"public.cloak"},"content":"unless you include the digest in the signature as well","modes":[]}
2019-01-14 12:52:21.818100 {"type":"message","timestamp":1547470341.8181,"network":"irc","server":"w3c","channel":{"uid":"#social","name":"#social"},"author":{"uid":"rialtate[m]","nickname":"rialtate[m]","username":"~rialtatema","name":"@rialtate:matrix.org","photo":null,"url":null,"tz":null,"host":"public.cloak"},"content":"Updates are a nightmare without versioning anyway","modes":[]}
2019-01-14 12:53:40.215500 {"type":"message","timestamp":1547470420.2155,"network":"irc","server":"w3c","channel":{"uid":"#social","name":"#social"},"author":{"uid":"jdormit","nickname":"jdormit","username":"~jdormit","name":null,"photo":null,"url":null,"tz":null,"host":"public.cloak"},"content":"because different nodes get out-of-sync about the latest version of an object?","modes":[]}
2019-01-14 13:04:14.514800 {"type":"message","timestamp":1547471054.5148,"network":"irc","server":"w3c","channel":{"uid":"#social","name":"#social"},"author":{"uid":"rialtate[m]","nickname":"rialtate[m]","username":"~rialtatema","name":"@rialtate:matrix.org","photo":null,"url":null,"tz":null,"host":"public.cloak"},"content":"Put simply yes","modes":[]}
2019-01-14 13:10:05.302800 {"type":"message","timestamp":1547471405.3028,"network":"irc","server":"w3c","channel":{"uid":"#social","name":"#social"},"author":{"uid":"jdormit","nickname":"jdormit","username":"~jdormit","name":null,"photo":null,"url":null,"tz":null,"host":"public.cloak"},"content":"i guess the bigger danger is multiple updates arriving out-of-order","modes":[]}
2019-01-14 13:15:08.332700 {"type":"message","timestamp":1547471708.3327,"network":"irc","server":"w3c","channel":{"uid":"#social","name":"#social"},"author":{"uid":"rialtate[m]","nickname":"rialtate[m]","username":"~rialtatema","name":"@rialtate:matrix.org","photo":null,"url":null,"tz":null,"host":"public.cloak"},"content":"Anything that isn't a directed graph has a variety of sync issues","modes":[]}
2019-01-14 13:24:16.230200 {"type":"message","timestamp":1547472256.2302,"network":"irc","server":"w3c","channel":{"uid":"#social","name":"#social"},"author":{"uid":"jdormit","nickname":"jdormit","username":"~jdormit","name":null,"photo":null,"url":null,"tz":null,"host":"public.cloak"},"content":"not sure I follow - how does a directed graph fix the sync issues?","modes":[]}
2019-01-14 13:33:52.496500 {"type":"message","timestamp":1547472832.4965,"network":"irc","server":"w3c","channel":{"uid":"#social","name":"#social"},"author":{"uid":"jdormit","nickname":"jdormit","username":"~jdormit","name":null,"photo":null,"url":null,"tz":null,"host":"public.cloak"},"content":"the ap graph is directed, isn't it? Edges have a direction, e.g. object -['attributedTo']-> actor","modes":[]}
2019-01-14 13:34:24.708500 {"type":"message","timestamp":1547472864.7085,"network":"irc","server":"w3c","channel":{"uid":"#social","name":"#social"},"author":{"uid":"jdormit","nickname":"jdormit","username":"~jdormit","name":null,"photo":null,"url":null,"tz":null,"host":"public.cloak"},"content":"but it's not acyclic, b\/c actor also has an edge pointing back to object via 'outbox' -> 'items'","modes":[]}
2019-01-14 13:35:17.723800 {"type":"message","timestamp":1547472917.7238,"network":"irc","server":"w3c","channel":{"uid":"#social","name":"#social"},"author":{"uid":"jdormit","nickname":"jdormit","username":"~jdormit","name":null,"photo":null,"url":null,"tz":null,"host":"public.cloak"},"content":"but even if it was acyclic, say by enforcing that objects could never point back to their actors, you'd still have the update problem","modes":[]}
2019-01-14 13:39:15.255400 {"type":"join","timestamp":1547473155.2554,"network":"irc","server":"w3c","channel":{"uid":"#social","name":"#social"},"author":{"uid":"Guest84","nickname":"Guest84","username":"~textual","name":"Textual User","photo":null,"url":null,"tz":null,"host":"public.cloak"},"content":null,"modes":[]}
